// M-Layout keyboard layout
// Using RU Windows keyboard as base

default partial alphanumeric_keys
xkb_symbols "m-layout-ru" {
    include "ru(common)" // Fallback
    name[Group1]= "M-Layout (RU)";

    // 1st row
    key <AE01> {[ 1, exclam, onesuperior, U2206]};                                  // SUPERSCRIPT ONE - INCREMENT
    key <AE02> {[ 2, quotedbl, twosuperior, at ]};                                  // SUPERSCRIPT TWO - COMMERCIAL AT
    key <AE03> {[ 3, numerosign, threesuperior, numbersign ]};                      // SUPERSCRIPT THREE - NUMBER SIGN
    key <AE04> {[ 4, semicolon, NoSymbol, dollar ]};                                // <none> - DOLLAR SIGN
    key <AE05> {[ 5, percent, permille, percent ]};                                 // PER MILLE SIGN - PERCENT SIGN
    key <AE06> {[ 6, colon, uparrow, asciicircum ]};                                // UPWARDS ARROW - CIRCUMFLEX ACCENT
    key <AE07> {[ 7, question, NoSymbol, ampersand ]};                              // <none> - AMPERSAND
    key <AE08> {[ 8, asterisk, infinity, asterisk ]};                               // INFINITY - ASTERISK
    key <AE09> {[ 9, parenleft, leftarrow, U27e8 ]};                                // LEFTWARDS ARROW - MATHEMATICAL LEFT ANGLE BRACKET
    key <AE10> {[ 0, parenright, rightarrow, U27e9 ]};                              // RIGHTWARDS ARROW - MATHEMATICAL RIGHT ANGLE BRACKET
    key <AE11> {[ minus, underscore, emdash, endash ]};                             // EM DASH - EN DASH
    key <AE12> {[ equal, plus, notequal, plusminus ]};                              // NOT EQUAL TO - PLUS-MINUS SIGN

    // 2nd row
    key <AD01> {[ Cyrillic_shorti, Cyrillic_SHORTI, partialderivative, onehalf ]};  // PARTIAL DIFFERENTIAL - VULGAR FRACTION ONE HALF
    key <AD02> {[ Cyrillic_tse, Cyrillic_TSE, U26a0, onethird ]};                   // WARNING SIGN - VULGAR FRACTION ONE THIRD
    key <AD03> {[ Cyrillic_u, Cyrillic_U, EuroSign, onequarter ]};                  // EURO SIGN - VULGAR FRACTION ONE QUARTER
    key <AD04> {[ Cyrillic_ka, Cyrillic_KA, registered, radical ]};                 // REGISTERED SIGN - SQUARE ROOT
    key <AD05> {[ Cyrillic_ie, Cyrillic_IE, Greek_tau, trademark ]};                // GREEK SMALL LETTER TAU - TRADE MARK SIGN
    key <AD06> {[ Cyrillic_en, Cyrillic_EN, U2714, U2203 ]};                        // HEAVY CHECK MARK - THERE EXISTS
    key <AD07> {[ Cyrillic_ghe, Cyrillic_GHE, Greek_mu, U2200 ]};                   // GREEK SMALL LETTER MU - FOR ALL
    key <AD08> {[ Cyrillic_sha, Cyrillic_SHA, Greek_pi, identical ]};               // GREEK SMALL LETTER PI - IDENTICAL TO
    key <AD09> {[ Cyrillic_shcha, Cyrillic_SHCHA, Greek_OMEGA, notsign ]};          // GREEK CAPITAL LETTER OMEGA - NOT SIGN
    key <AD10> {[ Cyrillic_ze, Cyrillic_ZE, minutes, seconds ]};                    // PRIME - DOUBLE PRIME
    key <AD11> {[ Cyrillic_ha, Cyrillic_HA, bracketleft, braceleft ]};              // LEFT SQUARE BRACKET - LEFT CURLY BRACKET
    key <AD12> {[ Cyrillic_hardsign, Cyrillic_HARDSIGN, bracketright, braceright ]};// RIGHT SQUARE BRACKET - RIGHT CURLY BRACKET

    // 3rd row
    key <AC01> {[ Cyrillic_ef, Cyrillic_EF, approxeq, U2220 ]};                     // ALMOST EQUAL TO - ANGLE
    key <AC02> {[ Cyrillic_yeru, Cyrillic_YERU, U2211, U262d ]};                    // N-ARY SUMMATION - HAMMER AND SICKLE
    key <AC03> {[ Cyrillic_ve, Cyrillic_VE, degree, U2300 ]};                       // DEGREE SIGN - DIAMETER SIGN
    key <AC04> {[ Cyrillic_a, Cyrillic_A, sterling, U2135 ]};                       // POUND SIGN - ALEF SYMBOL
    key <AC05> {[ Cyrillic_pe, Cyrillic_PE, section, paragraph ]};                  // SECTION SIGN - PILCROW SIGN
    key <AC06> {[ Cyrillic_er, Cyrillic_ER, U20bd, U210f ]};                        // RUBLE SIGN - PLANCK CONSTANT OVER TWO PI
    key <AC07> {[ Cyrillic_o, Cyrillic_O, implies, ifonlyif ]};                     // RIGHTWARDS DOUBLE ARROW - LEFT RIGHT DOUBLE ARROW
    key <AC08> {[ Cyrillic_el, Cyrillic_EL, NoSymbol, U226a ]};                     // <none> - MUCH LESS-THAN
    key <AC09> {[ Cyrillic_de, Cyrillic_DE, Greek_lamda, U226b ]};                  // GREEK SMALL LETTER LAMDA - MUCH GREATER-THAN
    key <AC10> {[ Cyrillic_zhe, Cyrillic_ZHE, semicolon, colon ]};                  // SEMICOLON - COLON
    key <AC11> {[ Cyrillic_e, Cyrillic_E, apostrophe, quotedbl ]};                  // APOSTROPHE - QUOTATION MARK

    // 4th row
    key <AB01> {[ Cyrillic_ya, Cyrillic_YA, U2622, U267b ]};                        // RADIOACTIVE SIGN - BLACK UNIVERSAL RECYCLING SYMBOL
    key <AB02> {[ Cyrillic_che, Cyrillic_CHE, multiply, periodcentered ]};          // MULTIPLICATION SIGN - MIDDLE DOT
    key <AB03> {[ Cyrillic_es, Cyrillic_ES, copyright, cent ]};                     // COPYRIGHT SIGN - CENT SIGN
    key <AB04> {[ Cyrillic_em, Cyrillic_EM, downarrow, openstar ]};                 // DOWNWARDS ARROW - WHITE STAR
    key <AB05> {[ Cyrillic_i, Cyrillic_I, enfilledcircbullet, U2605 ]};             // BULLET - BLACK STAR
    key <AB06> {[ Cyrillic_te, Cyrillic_TE, U2718, numerosign ]};                   // HEAVY BALLOT X - NUMERO SIGN
    key <AB07> {[ Cyrillic_softsign, Cyrillic_SOFTSIGN, U2212, U23fb ]};            // MINUS SIGN - POWER SYMBOL
    key <AB08> {[ Cyrillic_be, Cyrillic_BE, guillemetleft, leftcaret ]};            // LEFT-POINTING DOUBLE ANGLE QUOTATION MARK - LESS-THAN SIGN
    key <AB09> {[ Cyrillic_yu, Cyrillic_YU, guillemetright, rightcaret ]};          // RIGHT-POINTING DOUBLE ANGLE QUOTATION MARK - GREATER-THAN SIGN
    key <AB10> {[ period, comma, ellipsis, dead_acute ]};                           // HORIZONTAL ELLIPSIS - ACUTE ACCENT

    // Other
    key <SPCE> {[ space, space, nobreakspace, NoSymbol ]};                          // NO-BREAK SPACE - <none>
    key <TLDE> {[ Cyrillic_io, Cyrillic_IO, grave, asciitilde ]};                   // GRAVE ACCENT - TILDE
    key <BKSL> {[ slash, backslash, backslash, bar ]};                              // BACKSLASH - VERTICAL LINE

    // Compatibility bits
    include "kpdl(comma)"
    include "level3(ralt_switch)"
};